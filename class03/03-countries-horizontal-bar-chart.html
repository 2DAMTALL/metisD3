<!DOCTYPE html>
<head>
	<script src="https://d3js.org/d3.v4.min.js"></script>

	<style>
    	body { 
    		margin: 0;
    		position: fixed;
    		top: 0;
    		right: 0;
    		bottom: 0;
    		left: 0;
		}

		.title {
			font-family: "Georgia";
			font-size: 32px;
			fill: #000;
		}

		.axis {
			font-family: "Arial";
			font-size: 11px;
			fill: #808080;
		}

		.bar {
			fill: pink;
			fill-opacity: 1;
		}
	</style>
</head>
<body>
	<script>
		var countries = "data/countries.json";
		var nations = "data/nations.json";
		var poverty = "data/poverty.csv";

		d3.json(countries, function(error, json) {
			if (error) throw error;

			data = json;
			total_area = d3.nest()
				.key(function(d) { return d.region })
				.rollup(function(leaves) { return d3.sum(leaves, function(d) { return d.area }) })
				.object(data);
			console.log(total_area);
			subregion_area = d3.nest()
				.key(function(d) { return d.region })
				.key(function(d) { return d.subregion })
				.rollup(function(leaves) { return d3.sum(leaves, function(d) { return d.area }) })
				.object(data);
			console.log(subregion_area);
		})
	</script>
</body>
</html>